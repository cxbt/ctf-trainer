{% extends 'base.html' %}

{% block header %}
{% block title %}Challenges{% endblock %}
{% endblock %}

{% block content %}
<div class="accordion" id="accordionExample"></div>
{% for challenge in challenges %}
<div class="card">
    <div class="card-header" id="heading{{ loop.index }}">
        <h5 class="mb-0 d-inline">
            <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapse{{ loop.index }}"
                aria-expanded="true" aria-controls="collapseOne">
                {{ challenge['title'] }} ({{ challenge['score']}}pt)
            </button>
        </h5>
        <h5 class="mb-0 d-inline">
            <button class="btn btn-light" type="button" onclick="like()">
                ‚ù§ {{ challenge['thumbsup'] }}
            </button>
        </h5>
    </div>
    <div id="collapse{{ loop.index }}" class="collapse{% if loop.index == 1 %} show{% endif %}" aria-labelledby="heading{{ loop.index }}"
        data-parent="#accordionExample">
        <div class="card-body">
            <pre>{{ challenge['body'] }}</pre>
            <hr>
            <form method="POST" class="form-inline" action="{{ url_for('challenge.authenticate', id=challenge['id']) }}">
                <div class="form-group col-lg-10 mb-2">
                    <input type="hidden" name="challno" value="{{ challenge.id }}">
                    <input type="text" class="form-control w-100" placeholder="LOWTE{...}" name="flag">
                </div>
                <div class="form-group col-lg-2 mb-2">
                    <button type="submit" class="btn btn-primary w-100">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endfor %}
</div>
{% endblock %}